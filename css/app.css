:root{--bg:#020617;--panel:#0b1222;--card:#ffffff12;--text:#e5e7eb;--muted:#94a3b8;--primary:#2563eb;--danger:#ef4444;}
*{box-sizing:border-box}
html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
#topbar{position:fixed;top:0;left:0;right:0;height:56px;display:flex;align-items:center;justify-content:space-between;padding:0 12px;background:#020617ee;backdrop-filter:blur(10px);z-index:10;border-bottom:1px solid #ffffff14}
.brand{display:flex;gap:10px;align-items:center}
.brand img{width:34px;height:34px;border-radius:8px;object-fit:cover}
.title{font-weight:800;letter-spacing:.5px}
.subtitle{font-size:12px;color:var(--muted)}
.top-actions{display:flex;gap:8px}
#map{position:fixed;top:56px;left:0;right:0;bottom:0}
#panel{position:fixed;top:56px;left:0;right:0;bottom:0;background:var(--panel);transform:translateY(100%);transition:transform .25s ease;z-index:20;padding:12px;overflow:auto}
#panel.show{transform:translateY(0)}
.tabs{display:flex;gap:8px;margin-bottom:12px;position:sticky;top:0;background:var(--panel);padding:6px 0;z-index:2}
.tab{flex:1;padding:10px 8px;border-radius:12px;border:1px solid #ffffff14;background:#ffffff08;color:var(--text);cursor:pointer;font-weight:700}
.tab.active{background:#ffffff14;border-color:#ffffff24}
.tabpage.hidden{display:none}
.cards{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.card{background:var(--card);border:1px solid #ffffff14;border-radius:14px;padding:12px;margin-bottom:12px}
.card h3{margin:0 0 10px 0}
.label{font-size:12px;color:var(--muted)}
.value{font-size:18px;font-weight:800;margin-top:4px}
.grid{display:grid;grid-template-columns:1fr;gap:8px}
.grid label{font-size:12px;color:var(--muted)}
.grid input,.grid select{width:100%;padding:10px;border-radius:12px;border:1px solid #ffffff18;background:#0b1222;color:var(--text)}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.btn{padding:10px 12px;border-radius:12px;border:1px solid #ffffff18;background:#ffffff10;color:var(--text);cursor:pointer;font-weight:800}
.btn.primary{background:var(--primary);border-color:transparent}
.btn.danger{background:var(--danger);border-color:transparent}
.btn.ghost{background:transparent}
.list{display:flex;flex-direction:column;gap:10px}
.item{display:flex;justify-content:space-between;gap:10px;padding:10px;border-radius:12px;border:1px solid #ffffff14;background:#ffffff08}
.item .meta{color:var(--muted);font-size:12px}
.muted{color:var(--muted)}
.log{white-space:pre-wrap;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:12px;color:#cbd5e1}
#installNote{position:fixed;bottom:12px;left:12px;right:12px;background:#0b1222;border:1px solid #ffffff1f;border-radius:14px;padding:10px;z-index:50;display:none}
@media(min-width:900px){
  #panel{top:56px;left:auto;width:420px;transform:translateX(100%);right:0}
  #panel.show{transform:translateX(0)}
  .cards{grid-template-columns:repeat(3,1fr)}
}

/* Aircraft Avatars — Stage 3 */
.aircraftImg{
  width:84px;
  height:56px;
  object-fit:contain;
  border-radius:12px;
  background:#ffffff08;
  border:1px solid #ffffff1f;
}
.aircraftPreview{
  width:100%;
  max-width:340px;
  height:120px;
  object-fit:contain;
  border-radius:14px;
  background:#ffffff08;
  border:1px solid #ffffff1f;
  margin-top:6px;
}

/* ===== Stage 4 — Visual AAA (mobile-first) ===== */
.fleetItem{
  display:flex;
  gap:12px;
  align-items:center;
}
.fleetItem .aircraftImg{
  flex:0 0 auto;
}
.fleetItem .meta{
  flex:1 1 auto;
  min-width:0;
}
.fleetItem .meta .name{
  font-weight:900;
  letter-spacing:.2px;
}
.fleetItem .meta .sub{
  color:var(--muted);
  font-size:12px;
}
.btn{
  transition:transform .08s ease, filter .18s ease;
}
.btn:active{
  transform:scale(.98);
}
.card{
  border:1px solid #ffffff18;
  box-shadow:0 10px 24px #00000033;
}

/* ===== Stage 4.2 — Loja Premium + Modal Picker ===== */
.row{display:flex;gap:10px;align-items:center}
.btnSmall{padding:8px 10px;border-radius:12px;font-weight:900}
.modal.hidden{display:none}
.modal{position:fixed;inset:0;z-index:80}
.modalBackdrop{position:absolute;inset:0;background:#00000088;backdrop-filter:blur(2px)}
.modalSheet{
  position:absolute;left:50%;bottom:0;transform:translateX(-50%);
  width:min(980px,100%);max-height:86vh;
  background:#0b1222;border:1px solid #ffffff18;border-bottom:none;
  border-top-left-radius:20px;border-top-right-radius:20px;
  box-shadow:0 -18px 50px #00000055;
  overflow:hidden;
}
.modalHeader{display:flex;justify-content:space-between;align-items:center;padding:14px 14px;border-bottom:1px solid #ffffff14}
.modalTitle{font-weight:1000;letter-spacing:.2px}
.modalBody{padding:14px;display:flex;flex-direction:column;gap:12px}
.gridCards{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
@media(min-width:720px){.gridCards{grid-template-columns:repeat(3,minmax(0,1fr));}}
@media(min-width:980px){.gridCards{grid-template-columns:repeat(4,minmax(0,1fr));}}

.cardMini{
  border:1px solid #ffffff18;
  background:#ffffff08;
  border-radius:18px;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
  cursor:pointer;
  transition:transform .08s ease, filter .18s ease;
}
.cardMini:active{transform:scale(.99)}
.cardMini .imgWrap{height:74px;display:flex;align-items:center;justify-content:center;background:#00000022;border:1px solid #ffffff10;border-radius:14px}
.cardMini .imgWrap img{max-width:100%;max-height:100%;object-fit:contain}
.cardMini .title{font-weight:1000}
.cardMini .metaLine{color:var(--muted);font-size:12px;display:flex;justify-content:space-between;gap:10px}
